\begin{frame}%[allowframebreaks]
	\frametitle{Ctypes}
	\begin{itemize}
		\item use \texttt{ctypes} library \footnote{\url{https://docs.python.org/2/library/ctypes.html}} offering
		\begin{itemize}
			\item C compatible data types
			\item calling C-functions in shared libraries from pure Python
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}%[allowframebreaks]
	\frametitle{Porting functionality to C}
	Rewritten the following functions in C:
	\begin{itemize}
		\item \texttt{GenomicRegionSet.py:intersect}
		\item \texttt{GenomicRegionSet.py:jaccard}
		\item (\texttt{GenomicRegion.py:overlap})
		\item (\texttt{GenomicRegion.py:\_\_cmp\_\_})
	\end{itemize}
\end{frame}


\begin{frame}
	\frametitle{Binding shared library in initialisation}
	\lstinputlisting[style=custom_python]{code/binding.py}
\end{frame}

\begin{frame}
	\frametitle{Flag \texttt{use\_c}}
		\lstinputlisting[style=custom_python]{code/usec_intersect.py}
		\lstinputlisting[style=custom_python]{code/usec_jaccard.py}
\end{frame}


\begin{frame}
	\frametitle{Casting to primitive C}
	\lstinputlisting[style=custom_python]{code/casting.py}
\end{frame}


\begin{frame}
	\frametitle{Optimised jaccard}
	\begin{itemize}
		\item Only size of intersection interesting: Avoid constructing the result GenomicRegionSet.
		\item The size of the union can be computed from the size of the sets and the size of the intersection: $|A \cup B| = |A| + |B| - |A \cap B|$.
	\end{itemize}
\end{frame}